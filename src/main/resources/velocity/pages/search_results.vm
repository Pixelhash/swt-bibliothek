#parse('/velocity/layouts/layout.vm')
#@mainLayout()
<section class="hero is-light is-bold">
    <div class="hero-body">
        <div class="container has-text-centered">
            <h1 class="title is-3">
                <span class="icon icon-nav has-text-grey-dark">
                    <i class="fa fa-check"></i>
                </span>
                <span>$msg.get("INDEX_RESULTS_TITLE")</span>
            </h1>
        </div>
    </div>
</section>
<section class="section">
    <div class="container has-text-centered">
        <h3 class="subtitle is-5">$amount $msg.get("INDEX_RESULTS_SUBTITLE") <b>$query</b></h3>
        <div class="columns">
            <div class="column is-4"></div>
            <div class="column is-4">
                #foreach($book in $books)
                    <div class="card">
                        <header class="card-header">
                            <p class="card-header-title">
                                $book.getTitel()
                            </p>
                        </header>
                        <div class="card-content">
                            <div class="content">
                                <b>Autoren: </b>
                                #set ($authors = "")
                                #foreach($author in $book.getAutoren())
                                    #set ($authors = $authors + ${author.getName()} + ", ")
                                #end
                                #set ($authorLength = $authors.length() - 2)
                                #set ($authors = $authors.substring(0, $authorLength))
                                $authors
                                <br><b>Verlag: </b> $book.getVerlag().getName()
                                <br><b>Kategorie:</b> $book.getKategorie().getName()
                                <br><b>Erscheinungsjahr: </b> $book.getYearFormatted()
                                <br><b>ISBN: </b> $book.getIsbn()
                            </div>
                        </div>
                        <footer class="card-footer">
                            <p href="#" class="card-footer-item
                            #if($book.getExemplare() == 0)
                                has-text-danger
                            #else
                                has-text-success
                            #end">$book.getExemplare() Exemplar(e) vorhanden</p>
                        </footer>
                    </div>
                #end
                <div class="content padding-top">
                    <a href="$WebPath.getIndexSearch()">$msg.get("INDEX_RESULTS_BACK")</a>
                </div>
            </div>
            <div class="column is-4"></div>
        </div>
    </div>
</section>
#end